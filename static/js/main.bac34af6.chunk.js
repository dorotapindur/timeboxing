(this.webpackJsonptimeboxing=this.webpackJsonptimeboxing||[]).push([[0],{19:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n(1),s=n.n(a),o=n(10),r=n.n(o),c=n(11),l=n(2),u=n(3),d=n(6),b=n(5),m=(n(19),n(28));Object(m.a)();var j=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).handleSubmit=function(t){t.preventDefault(),i.props.onSave({id:i.props.timeboxEdited?i.props.timeboxEdited.id:Object(m.a)(),title:i.titleInput.current.value,totalTimeInMinutes:i.totalTimeInMinutesInput.current.value}),i.titleInput.current.value="",i.totalTimeInMinutesInput.current.value=""},i.titleInput=s.a.createRef(),i.totalTimeInMinutesInput=s.a.createRef(),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props,e=t.isEditable,n=t.timeboxEdited;return n&&(this.titleInput.current&&(this.titleInput.current.value=n.title),this.totalTimeInMinutesInput.current&&(this.totalTimeInMinutesInput.current.value=n.totalTimeInMinutes)),Object(i.jsxs)("form",{onSubmit:this.handleSubmit,className:"TimeboxCreator",children:[Object(i.jsxs)("label",{children:["Co robisz?",Object(i.jsx)("input",{ref:this.titleInput,type:"text",placeholder:"opis",required:!0})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:["Ile minut?",Object(i.jsx)("input",{ref:this.totalTimeInMinutesInput,type:"number",min:"0.1",step:"0.1",required:!0})]}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{disabled:e,children:"Dodaj timebox"}),Object(i.jsx)("button",{disabled:!e,children:"Zapisz zmiany"})]})}}]),n}(s.a.Component);n(20);var h=function(t){var e=t.title,n=t.totalTimeInMinutes,a=t.onDelete,s=t.onEdit;if(n<=0)throw new Error("Ca\u0142kowity czas musi by\u0107 wi\u0119kszy ni\u017c zero");return Object(i.jsxs)("div",{className:"Timebox",children:[Object(i.jsxs)("h3",{children:[e," - ",n," min."]}),Object(i.jsx)("button",{onClick:a,children:" Usu\u0144 "}),Object(i.jsx)("button",{onClick:s,children:" Zmie\u0144 "})]})},p=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={hasError:!1},t}return Object(u.a)(n,[{key:"componentDidCatch",value:function(t,e){console.log("Wyst\u0105pi\u0142 nast\u0119puj\u0105cy b\u0142\u0105d:",t,e)}},{key:"render",value:function(){var t=this.props,e=t.message,n=t.children;return this.state.hasError?e:n}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),n}(s.a.Component),v=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={timeboxes:[{id:"a",title:"Ucz\u0119 si\u0119 list",totalTimeInMinutes:25},{id:"b",title:"Ucz\u0119 si\u0119 formularzy",totalTimeInMinutes:15},{id:"c",title:"Ucz\u0119 si\u0119 komponent\xf3w niekontrolowanych",totalTimeInMinutes:5}],isEditable:!1,timeboxEdited:null,hasError:!1},t.addTimebox=function(e){t.setState((function(t){return{timeboxes:[e].concat(Object(c.a)(t.timeboxes))}}))},t.removeTimebox=function(e){t.setState((function(t){return{timeboxes:t.timeboxes.filter((function(t,n){return n!==e}))}}))},t.updateTimebox=function(e,n){t.setState((function(t){return{timeboxes:t.timeboxes.map((function(t,i){return i===e?n:t}))}}))},t.handleEdit=function(e){try{t.setState({isEditable:!0,timeboxEdited:e})}catch(n){console.log("Jest b\u0142\u0105d przy edycji timeboxa",n)}},t.handleSave=function(e){var n=t.state.timeboxes.findIndex((function(t){return t.id===e.id}));t.setState({isEditable:!1,timeboxEdited:null}),-1===n?t.addTimebox(e):t.updateTimebox(n,e)},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.isEditable,a=e.timeboxEdited;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(j,{onSave:this.handleSave,isEditable:n,timeboxEdited:a}),Object(i.jsx)(p,{message:"Co\u015b si\u0119 wykrzaczy\u0142o w li\u015bcie",children:this.state.timeboxes.map((function(e,n){return Object(i.jsx)(h,{title:e.title,totalTimeInMinutes:e.totalTimeInMinutes,onDelete:function(){return t.removeTimebox(n)},onEdit:function(){return t.handleEdit(e)}},e.id)}))})]})}}]),n}(s.a.Component),x=n(4),f=n.n(x);n(21);var O=function(t){var e=t.title,n=t.totalTimeInMinutes,a=t.onTitleChange,s=t.onTotalTimeInMinutesChange,o=t.onConfirm,r=t.isEditable,c=t.isRunning,l=t.onStart,u=!0;u=!0===c&&!0!==r;var d=f()("TimeboxEditor",{inactive:u});return Object(i.jsxs)("div",{className:d,children:[Object(i.jsxs)("label",{children:["Co robisz? ",Object(i.jsx)("input",{disabled:u,value:e,onChange:a,type:"text"})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:["Ile minut? ",Object(i.jsx)("input",{disabled:u,value:n,onChange:s,type:"number"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:l,disabled:c,children:"Zacznij"}),Object(i.jsx)("button",{onClick:o,disabled:!r,children:"Zatwierd\u017a zmiany"}),Object(i.jsx)("p",{className:"orangered ".concat(c?"":"inactive"),children:"running"})]})},T=n(12);n(22);var I=function(t){var e=t.hours,n=t.minutes,a=t.seconds,s=t.over;e<0&&(e=0),e>23&&(e=23),n<0&&(n=0),n>59&&(n=59),a<0&&(a=0),a>59&&(a=59);var o=e.toString().padStart(2,"0"),r=n.toString().padStart(2,"0"),c=a.toString().padStart(2,"0"),l=f()("Clock",{timeisup:s});return Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:l,children:["Pozosta\u0142o ",Object(i.jsx)("span",{className:"Clock__hours",children:o}),Object(i.jsx)("span",{className:"Clock__colon",children:":"}),Object(i.jsx)("span",{className:"Clock__minutes",children:r}),Object(i.jsx)("span",{className:"Clock__colon",children:":"}),Object(i.jsx)("span",{className:"Clock__seconds",children:c})]})})};n(23);var g=function(t){var e=t.percent,n=t.over,a=t.trackRemaining,s=void 0!==a&&a;e>100&&(e=100),e<0&&(e=0);var o=f()("ProgressBar",{timeisup:n});return s?Object(i.jsx)("div",{className:o,style:{paddingLeft:"".concat(e,"%")}}):Object(i.jsx)("div",{className:o,style:{paddingRight:"".concat(100-e,"%")}})};n(24);var C=function(t){var e,n=t.title,a=t.isEditable,s=t.isRunning,o=t.isPaused,r=t.pausesCount,c=t.elapsedTimeInSeconds,l=t.onStop,u=t.onEdit,d=t.onPause,b=t.totalTime,m=(e=b-c,[Math.floor(e/3600),Math.floor(e/60),Math.floor(e%60)]),j=Object(T.a)(m,3),h=j[0],p=j[1],v=j[2],x=c/b*100,O=!0;O=!s||!!a;var C=!1;x>50&&(C=!0);var S=f()("CurrentTimebox",{inactive:O});return Object(i.jsxs)("div",{className:S,children:[Object(i.jsx)("h2",{children:n}),Object(i.jsx)(I,{hours:h,minutes:p,seconds:v,over:C}),Object(i.jsx)(g,{percent:x,over:C}),Object(i.jsx)("button",{onClick:u,disabled:O,children:"Edytuj"}),Object(i.jsx)("button",{onClick:l,disabled:O,children:"Stop/Reset"}),Object(i.jsx)("button",{onClick:d,disabled:O,children:o?"Wzn\xf3w":"Pauzuj"}),Object(i.jsxs)("p",{children:["Liczba przerw: ",r]})]})};Object(m.a)();var S=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={title:"Ucz\u0119 si\u0119 wyci\u0105ga\u0107 stan w g\xf3r\u0119!",totalTimeInMinutes:3,isEditable:!1,isRunning:!1,isPaused:!1,pausesCount:0,elapsedTimeInSeconds:0},t.handleTitleChange=function(e){t.setState({title:e.target.value})},t.handleTotalTimeInMinutesChange=function(e){t.setState({totalTimeInMinutes:e.target.value})},t.handleConfirm=function(){t.setState({isEditable:!1}),t.state.isPaused||t.startTimer()},t.handleEdit=function(){t.setState({isEditable:!0}),t.pauseTimer()},t.handleStart=function(){console.log("handle start"),t.setState({isRunning:!0}),t.intervalId=null,t.startTimer()},t.handleStop=function(){console.log("handle stop"),t.stopTimer()},t.togglePause=function(){t.setState((function(t){var e=!t.isPaused;return e?this.pauseTimer():this.startTimer(),{isPaused:e,pausesCount:e?t.pausesCount+1:t.pausesCount}}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){console.count("componentDidMount")}},{key:"componentWillUnmount",value:function(){console.count("componentWillUnmount")}},{key:"startTimer",value:function(){var t=this;null===this.intervalId&&(this.intervalId=window.setInterval((function(){t.setState((function(t){return{elapsedTimeInSeconds:t.elapsedTimeInSeconds+.01}})),t.state.elapsedTimeInSeconds>=60*t.state.totalTimeInMinutes&&(t.stopTimer(),t.setState({isRunning:!1}))}),10))}},{key:"pauseTimer",value:function(){window.clearInterval(this.intervalId),this.intervalId=null}},{key:"stopTimer",value:function(){window.clearInterval(this.intervalId),this.setState({isRunning:!1,isPaused:!1,isEditable:!1,pausesCount:0,elapsedTimeInSeconds:0})}},{key:"render",value:function(){var t=this.state,e=t.title,n=t.totalTimeInMinutes,a=t.isEditable,s=t.isRunning,o=t.isPaused,r=t.pausesCount,c=t.elapsedTimeInSeconds,l=60*n;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(O,{title:e,totalTimeInMinutes:n,totalTime:l,onTitleChange:this.handleTitleChange,onTotalTimeInMinutesChange:this.handleTotalTimeInMinutesChange,isEditable:a,isRunning:s,isPaused:o,onStart:this.handleStart,onConfirm:this.handleConfirm,onPause:this.togglePause}),Object(i.jsx)(C,{title:e,totalTimeInMinutes:n,totalTime:60*n,isEditable:a,isRunning:s,isPaused:o,pausesCount:r,elapsedTimeInSeconds:c,onStart:this.handleStart,onStop:this.handleStop,onEdit:this.handleEdit,onPause:this.togglePause})]})}}]),n}(s.a.Component);n(25);var y=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)(p,{message:"Co\u015b nie dzia\u0142a w ca\u0142ej aplikacji",children:[Object(i.jsx)(v,{}),Object(i.jsx)(S,{})]})})};n(26);r.a.render(Object(i.jsx)(y,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.bac34af6.chunk.js.map